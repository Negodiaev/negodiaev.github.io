//DOM 4
;(function(e){"use strict";function t(){return c.createDocumentFragment()}function n(e){return c.createElement(e)}function r(e,t){if(!e)throw new Error("Failed to construct "+t+": 1 argument required, but only 0 present.")}function i(e){if(e.length===1)return s(e[0]);for(var n=t(),r=R.call(e),i=0;i<e.length;i++)n.appendChild(s(r[i]));return n}function s(e){return typeof e=="string"?c.createTextNode(e):e}for(var o,u,a,f,l,c=e.document,h=Object.prototype.hasOwnProperty,p=Object.defineProperty||function(e,t,n){return h.call(n,"value")?e[t]=n.value:(h.call(n,"get")&&e.__defineGetter__(t,n.get),h.call(n,"set")&&e.__defineSetter__(t,n.set)),e},d=[].indexOf||function(t){var n=this.length;while(n--)if(this[n]===t)break;return n},v=function(e){if(!e)throw"SyntaxError";if(w.test(e))throw"InvalidCharacterError";return e},m=function(e){var t=typeof e.className=="undefined",n=t?e.getAttribute("class")||"":e.className,r=t||typeof n=="object",i=(r?t?n:n.baseVal:n).replace(b,"");i.length&&q.push.apply(this,i.split(w)),this._isSVG=r,this._=e},g={get:function(){return new m(this)},set:function(){}},y="dom4-tmp-".concat(Math.random()*+(new Date)).replace(".","-"),b=/^\s+|\s+$/g,w=/\s+/,E=" ",S="classList",x=function(t,n){if(this.contains(t))n||this.remove(t);else if(n===undefined||n)n=!0,this.add(t);return!!n},T=e.DocumentFragment&&DocumentFragment.prototype,N=e.Node,C=(N||Element).prototype,k=e.CharacterData||N,L=k&&k.prototype,A=e.DocumentType,O=A&&A.prototype,M=(e.Element||N||e.HTMLElement).prototype,_=e.HTMLSelectElement||n("select").constructor,D=_.prototype.remove,P=e.ShadowRoot,H=e.SVGElement,B=/ /g,j="\\ ",F=function(e){var t=e==="querySelectorAll";return function(n){var r,i,s,o,u,a,f=this.parentNode;if(f){for(s=this.getAttribute("id")||y,o=s===y?s:s.replace(B,j),a=n.split(","),i=0;i<a.length;i++)a[i]="#"+o+" "+a[i];n=a.join(",")}s===y&&this.setAttribute("id",s),u=(f||this)[e](n),s===y&&this.removeAttribute("id");if(t){i=u.length,r=new Array(i);while(i--)r[i]=u[i]}else r=u;return r}},I=function(e){"query"in e||(e.query=M.query),"queryAll"in e||(e.queryAll=M.queryAll)},q=["matches",M.matchesSelector||M.webkitMatchesSelector||M.khtmlMatchesSelector||M.mozMatchesSelector||M.msMatchesSelector||M.oMatchesSelector||function(t){var n=this.parentNode;return!!n&&-1<d.call(n.querySelectorAll(t),this)},"closest",function(t){var n=this,r;while((r=n&&n.matches)&&!n.matches(t))n=n.parentNode;return r?n:null},"prepend",function(){var t=this.firstChild,n=i(arguments);t?this.insertBefore(n,t):this.appendChild(n)},"append",function(){this.appendChild(i(arguments))},"before",function(){var t=this.parentNode;t&&t.insertBefore(i(arguments),this)},"after",function(){var t=this.parentNode,n=this.nextSibling,r=i(arguments);t&&(n?t.insertBefore(r,n):t.appendChild(r))},"replace",function(){this.replaceWith.apply(this,arguments)},"replaceWith",function(){var t=this.parentNode;t&&t.replaceChild(i(arguments),this)},"remove",function(){var t=this.parentNode;t&&t.removeChild(this)},"query",F("querySelector"),"queryAll",F("querySelectorAll")],R=q.slice,U=q.length;U;U-=2){u=q[U-2],u in M||(M[u]=q[U-1]),u==="remove"&&(_.prototype[u]=function(){return 0<arguments.length?D.apply(this,arguments):M.remove.call(this)}),/^(?:before|after|replace|replaceWith|remove)$/.test(u)&&(k&&!(u in L)&&(L[u]=q[U-1]),A&&!(u in O)&&(O[u]=q[U-1]));if(/^(?:append|prepend)$/.test(u))if(T)u in T||(T[u]=q[U-1]);else try{t().constructor.prototype[u]=q[U-1]}catch(z){}}I(c);if(T)I(T);else try{I(t().constructor.prototype)}catch(z){}P&&I(P.prototype),n("a").matches("a")||(M[u]=function(e){return function(n){return e.call(this.parentNode?this:t().appendChild(this),n)}}(M[u])),m.prototype={length:0,add:function(){for(var t=0,n;t<arguments.length;t++)n=arguments[t],this.contains(n)||q.push.call(this,u);this._isSVG?this._.setAttribute("class",""+this):this._.className=""+this},contains:function(e){return function(n){return U=e.call(this,u=v(n)),-1<U}}([].indexOf||function(e){U=this.length;while(U--&&this[U]!==e);return U}),item:function(t){return this[t]||null},remove:function(){for(var t=0,n;t<arguments.length;t++)n=arguments[t],this.contains(n)&&q.splice.call(this,U,1);this._isSVG?this._.setAttribute("class",""+this):this._.className=""+this},toggle:x,toString:function W(){return q.join.call(this,E)}},H&&!(S in H.prototype)&&p(H.prototype,S,g),S in c.documentElement?(f=n("div")[S],f.add("a","b","a"),"a b"!=f&&(a=f.constructor.prototype,"add"in a||(a=e.TemporaryTokenList.prototype),l=function(e){return function(){var t=0;while(t<arguments.length)e.call(this,arguments[t++])}},a.add=l(a.add),a.remove=l(a.remove),a.toggle=x)):p(M,S,g),"contains"in C||p(C,"contains",{value:function(e){while(e&&e!==this)e=e.parentNode;return this===e}}),"head"in c||p(c,"head",{get:function(){return o||(o=c.getElementsByTagName("head")[0])}}),function(){for(var t,n=e.requestAnimationFrame,r=e.cancelAnimationFrame,i=["o","ms","moz","webkit"],s=i.length;!r&&s--;)n=n||e[i[s]+"RequestAnimationFrame"],r=e[i[s]+"CancelAnimationFrame"]||e[i[s]+"CancelRequestAnimationFrame"];r||(n?(t=n,n=function(e){var n=!0;return t(function(){n&&e.apply(this,arguments)}),function(){n=!1}},r=function(e){e()}):(n=function(e){return setTimeout(e,15,15)},r=function(e){clearTimeout(e)})),e.requestAnimationFrame=n,e.cancelAnimationFrame=r}();try{new e.CustomEvent("?")}catch(z){e.CustomEvent=function(e,t){function n(n,i){var s=c.createEvent(e);if(typeof n!="string")throw new Error("An event name must be provided");return e=="Event"&&(s.initCustomEvent=r),i==null&&(i=t),s.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),s}function r(e,t,n,r){this.initEvent(e,t,n),this.detail=r}return n}(e.CustomEvent?"CustomEvent":"Event",{bubbles:!1,cancelable:!1,detail:null})}try{new Event("_")}catch(z){z=function(e){function t(e,t){r(arguments.length,"Event");var n=c.createEvent("Event");return t||(t={}),n.initEvent(e,!!t.bubbles,!!t.cancelable),n}return t.prototype=e.prototype,t}(e.Event||function(){}),p(e,"Event",{value:z}),Event!==z&&(Event=z)}try{new KeyboardEvent("_",{})}catch(z){z=function(t){function a(e){for(var t=[],n=["ctrlKey","Control","shiftKey","Shift","altKey","Alt","metaKey","Meta","altGraphKey","AltGraph"],r=0;r<n.length;r+=2)e[n[r]]&&t.push(n[r+1]);return t.join(" ")}function f(e,t){for(var n in t)t.hasOwnProperty(n)&&!t.hasOwnProperty.call(e,n)&&(e[n]=t[n]);return e}function l(e,t,n){try{t[e]=n[e]}catch(r){}}function h(t,o){r(arguments.length,"KeyboardEvent"),o=f(o||{},i);var u=c.createEvent(s),h=o.ctrlKey,p=o.shiftKey,d=o.altKey,v=o.metaKey,m=o.altGraphKey,g=n>3?a(o):null,y=String(o.key),b=String(o.char),w=o.location,E=o.keyCode||(o.keyCode=y)&&y.charCodeAt(0)||0,S=o.charCode||(o.charCode=b)&&b.charCodeAt(0)||0,x=o.bubbles,T=o.cancelable,N=o.repeat,C=o.locale,k=o.view||e,L;o.which||(o.which=o.keyCode);if("initKeyEvent"in u)u.initKeyEvent(t,x,T,k,h,d,p,v,E,S);else if(0<n&&"initKeyboardEvent"in u){L=[t,x,T,k];switch(n){case 1:L.push(y,w,h,p,d,v,m);break;case 2:L.push(h,d,p,v,E,S);break;case 3:L.push(y,w,h,d,p,v,m);break;case 4:L.push(y,w,g,N,C);break;default:L.push(char,y,w,g,N,C)}u.initKeyboardEvent.apply(u,L)}else u.initEvent(t,x,T);for(y in u)i.hasOwnProperty(y)&&u[y]!==o[y]&&l(y,u,o);return u}var n=0,i={"char":"",key:"",location:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,altGraphKey:!1,repeat:!1,locale:navigator.language,detail:0,bubbles:!1,cancelable:!1,keyCode:0,charCode:0,which:0},s;try{var o=c.createEvent("KeyboardEvent");o.initKeyboardEvent("keyup",!1,!1,e,"+",3,!0,!1,!0,!1,!1),n=(o.keyIdentifier||o.key)=="+"&&(o.keyLocation||o.location)==3&&(o.ctrlKey?o.altKey?1:3:o.shiftKey?2:4)||9}catch(u){}return s=0<n?"KeyboardEvent":"Event",h.prototype=t.prototype,h}(e.KeyboardEvent||function(){}),p(e,"KeyboardEvent",{value:z}),KeyboardEvent!==z&&(KeyboardEvent=z)}try{new MouseEvent("_",{})}catch(z){z=function(t){function n(t,n){r(arguments.length,"MouseEvent");var i=c.createEvent("MouseEvent");return n||(n={}),i.initMouseEvent(t,!!n.bubbles,!!n.cancelable,n.view||e,n.detail||1,n.screenX||0,n.screenY||0,n.clientX||0,n.clientY||0,!!n.ctrlKey,!!n.altKey,!!n.shiftKey,!!n.metaKey,n.button||0,n.relatedTarget||null),i}return n.prototype=t.prototype,n}(e.MouseEvent||function(){}),p(e,"MouseEvent",{value:z}),MouseEvent!==z&&(MouseEvent=z)}})(window),function(e){"use strict";function n(){}function r(e,t,n){function i(e){i.once&&(e.currentTarget.removeEventListener(e.type,t,i),i.removed=!0),i.passive&&(e.preventDefault=r.preventDefault),typeof i.callback=="function"?i.callback.call(this,e):i.callback&&i.callback.handleEvent(e),i.passive&&delete e.preventDefault}return i.type=e,i.callback=t,i.capture=!!n.capture,i.passive=!!n.passive,i.once=!!n.once,i.removed=!1,i}var t=e.WeakMap||function(){function s(e,i,s){n=s,t=!1,r=undefined,e.dispatchEvent(i)}function o(e){this.value=e}function u(){e++,this.__ce__=new i("@DOMMap:"+e+Math.random())}var e=0,t=!1,n=!1,r;return o.prototype.handleEvent=function(i){t=!0,n?i.currentTarget.removeEventListener(i.type,this,!1):r=this.value},u.prototype={constructor:u,"delete":function(n){return s(n,this.__ce__,!0),t},get:function(t){s(t,this.__ce__,!1);var n=r;return r=undefined,n},has:function(n){return s(n,this.__ce__,!1),t},set:function(t,n){return s(t,this.__ce__,!0),t.addEventListener(this.__ce__.type,new o(n),!1),this}},u}();n.prototype=(Object.create||Object)(null),r.preventDefault=function(){};var i=e.CustomEvent,s=Object.prototype.hasOwnProperty,o=e.dispatchEvent,u=e.addEventListener,a=e.removeEventListener,f=0,l=function(){f++},c=[].indexOf||function(t){var n=this.length;while(n--)if(this[n]===t)break;return n},h=function(e){return"".concat(e.capture?"1":"0",e.passive?"1":"0",e.once?"1":"0")},p,d;try{u("_",l,{once:!0}),o(new i("_")),o(new i("_")),a("_",l,{once:!0})}catch(v){}f!==1&&function(){function s(e){return function(s,o,u){if(u&&typeof u!="boolean"){var a=i.get(this),f=h(u),l,p,d;a||i.set(this,a=new n),s in a||(a[s]={handler:[],wrap:[]}),p=a[s],l=c.call(p.handler,o),l<0?(l=p.handler.push(o)-1,p.wrap[l]=d=new n):d=p.wrap[l],f in d||(d[f]=r(s,o,u),e.call(this,s,d[f],d[f].capture))}else e.call(this,s,o,u)}}function o(e){return function(n,r,s){if(s&&typeof s!="boolean"){var o=i.get(this),u,a,f,l;if(o&&n in o){f=o[n],a=c.call(f.handler,r);if(-1<a){u=h(s),l=f.wrap[a];if(u in l){e.call(this,n,l[u],l[u].capture),delete l[u];for(u in l)return;f.handler.splice(a,1),f.wrap.splice(a,1),f.handler.length===0&&delete o[n]}}}}else e.call(this,n,r,s)}}var i=new t;p=function(e){if(!e)return;var t=e.prototype;t.addEventListener=s(t.addEventListener),t.removeEventListener=o(t.removeEventListener)},e.EventTarget?p(EventTarget):(p(e.Text),p(e.Element||e.HTMLElement),p(e.HTMLDocument),p(e.Window||{prototype:e}),p(e.XMLHttpRequest))}()}(self);

// classList for IE9
(function () {

if (typeof window.Element === "undefined" || "classList" in document.documentElement) return;

var prototype = Array.prototype,
  push = prototype.push,
  splice = prototype.splice,
  join = prototype.join;

function DOMTokenList(el) {
this.el = el;
// The className needs to be trimmed and split on whitespace
// to retrieve a list of classes.
var classes = el.className.replace(/^\s+|\s+$/g,'').split(/\s+/);
for (var i = 0; i < classes.length; i++) {
  push.call(this, classes[i]);
}
};

DOMTokenList.prototype = {
add: function(token) {
  if(this.contains(token)) return;
  push.call(this, token);
  this.el.className = this.toString();
},
contains: function(token) {
  return this.el.className.indexOf(token) != -1;
},
item: function(index) {
  return this[index] || null;
},
remove: function(token) {
  if (!this.contains(token)) return;
  for (var i = 0; i < this.length; i++) {
    if (this[i] == token) break;
  }
  splice.call(this, i, 1);
  this.el.className = this.toString();
},
toString: function() {
  return join.call(this, ' ');
},
toggle: function(token) {
  if (!this.contains(token)) {
    this.add(token);
  } else {
    this.remove(token);
  }

  return this.contains(token);
}
};

window.DOMTokenList = DOMTokenList;

function defineElementGetter (obj, prop, getter) {
  if (Object.defineProperty) {
      Object.defineProperty(obj, prop,{
          get : getter
      });
  } else {
      obj.__defineGetter__(prop, getter);
  }
}

defineElementGetter(Element.prototype, 'classList', function () {
return new DOMTokenList(this);
});

})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJwb2x5ZmlsbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy9ET00gNFxyXG47KGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoKXtyZXR1cm4gYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCl9ZnVuY3Rpb24gbihlKXtyZXR1cm4gYy5jcmVhdGVFbGVtZW50KGUpfWZ1bmN0aW9uIHIoZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0IFwiK3QrXCI6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIil9ZnVuY3Rpb24gaShlKXtpZihlLmxlbmd0aD09PTEpcmV0dXJuIHMoZVswXSk7Zm9yKHZhciBuPXQoKSxyPVIuY2FsbChlKSxpPTA7aTxlLmxlbmd0aDtpKyspbi5hcHBlbmRDaGlsZChzKHJbaV0pKTtyZXR1cm4gbn1mdW5jdGlvbiBzKGUpe3JldHVybiB0eXBlb2YgZT09XCJzdHJpbmdcIj9jLmNyZWF0ZVRleHROb2RlKGUpOmV9Zm9yKHZhciBvLHUsYSxmLGwsYz1lLmRvY3VtZW50LGg9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxwPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoLmNhbGwobixcInZhbHVlXCIpP2VbdF09bi52YWx1ZTooaC5jYWxsKG4sXCJnZXRcIikmJmUuX19kZWZpbmVHZXR0ZXJfXyh0LG4uZ2V0KSxoLmNhbGwobixcInNldFwiKSYmZS5fX2RlZmluZVNldHRlcl9fKHQsbi5zZXQpKSxlfSxkPVtdLmluZGV4T2Z8fGZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMubGVuZ3RoO3doaWxlKG4tLSlpZih0aGlzW25dPT09dClicmVhaztyZXR1cm4gbn0sdj1mdW5jdGlvbihlKXtpZighZSl0aHJvd1wiU3ludGF4RXJyb3JcIjtpZih3LnRlc3QoZSkpdGhyb3dcIkludmFsaWRDaGFyYWN0ZXJFcnJvclwiO3JldHVybiBlfSxtPWZ1bmN0aW9uKGUpe3ZhciB0PXR5cGVvZiBlLmNsYXNzTmFtZT09XCJ1bmRlZmluZWRcIixuPXQ/ZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIjplLmNsYXNzTmFtZSxyPXR8fHR5cGVvZiBuPT1cIm9iamVjdFwiLGk9KHI/dD9uOm4uYmFzZVZhbDpuKS5yZXBsYWNlKGIsXCJcIik7aS5sZW5ndGgmJnEucHVzaC5hcHBseSh0aGlzLGkuc3BsaXQodykpLHRoaXMuX2lzU1ZHPXIsdGhpcy5fPWV9LGc9e2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgbSh0aGlzKX0sc2V0OmZ1bmN0aW9uKCl7fX0seT1cImRvbTQtdG1wLVwiLmNvbmNhdChNYXRoLnJhbmRvbSgpKisobmV3IERhdGUpKS5yZXBsYWNlKFwiLlwiLFwiLVwiKSxiPS9eXFxzK3xcXHMrJC9nLHc9L1xccysvLEU9XCIgXCIsUz1cImNsYXNzTGlzdFwiLHg9ZnVuY3Rpb24odCxuKXtpZih0aGlzLmNvbnRhaW5zKHQpKW58fHRoaXMucmVtb3ZlKHQpO2Vsc2UgaWYobj09PXVuZGVmaW5lZHx8biluPSEwLHRoaXMuYWRkKHQpO3JldHVybiEhbn0sVD1lLkRvY3VtZW50RnJhZ21lbnQmJkRvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLE49ZS5Ob2RlLEM9KE58fEVsZW1lbnQpLnByb3RvdHlwZSxrPWUuQ2hhcmFjdGVyRGF0YXx8TixMPWsmJmsucHJvdG90eXBlLEE9ZS5Eb2N1bWVudFR5cGUsTz1BJiZBLnByb3RvdHlwZSxNPShlLkVsZW1lbnR8fE58fGUuSFRNTEVsZW1lbnQpLnByb3RvdHlwZSxfPWUuSFRNTFNlbGVjdEVsZW1lbnR8fG4oXCJzZWxlY3RcIikuY29uc3RydWN0b3IsRD1fLnByb3RvdHlwZS5yZW1vdmUsUD1lLlNoYWRvd1Jvb3QsSD1lLlNWR0VsZW1lbnQsQj0vIC9nLGo9XCJcXFxcIFwiLEY9ZnVuY3Rpb24oZSl7dmFyIHQ9ZT09PVwicXVlcnlTZWxlY3RvckFsbFwiO3JldHVybiBmdW5jdGlvbihuKXt2YXIgcixpLHMsbyx1LGEsZj10aGlzLnBhcmVudE5vZGU7aWYoZil7Zm9yKHM9dGhpcy5nZXRBdHRyaWJ1dGUoXCJpZFwiKXx8eSxvPXM9PT15P3M6cy5yZXBsYWNlKEIsaiksYT1uLnNwbGl0KFwiLFwiKSxpPTA7aTxhLmxlbmd0aDtpKyspYVtpXT1cIiNcIitvK1wiIFwiK2FbaV07bj1hLmpvaW4oXCIsXCIpfXM9PT15JiZ0aGlzLnNldEF0dHJpYnV0ZShcImlkXCIscyksdT0oZnx8dGhpcylbZV0obikscz09PXkmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7aWYodCl7aT11Lmxlbmd0aCxyPW5ldyBBcnJheShpKTt3aGlsZShpLS0pcltpXT11W2ldfWVsc2Ugcj11O3JldHVybiByfX0sST1mdW5jdGlvbihlKXtcInF1ZXJ5XCJpbiBlfHwoZS5xdWVyeT1NLnF1ZXJ5KSxcInF1ZXJ5QWxsXCJpbiBlfHwoZS5xdWVyeUFsbD1NLnF1ZXJ5QWxsKX0scT1bXCJtYXRjaGVzXCIsTS5tYXRjaGVzU2VsZWN0b3J8fE0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxNLmtodG1sTWF0Y2hlc1NlbGVjdG9yfHxNLm1vek1hdGNoZXNTZWxlY3Rvcnx8TS5tc01hdGNoZXNTZWxlY3Rvcnx8TS5vTWF0Y2hlc1NlbGVjdG9yfHxmdW5jdGlvbih0KXt2YXIgbj10aGlzLnBhcmVudE5vZGU7cmV0dXJuISFuJiYtMTxkLmNhbGwobi5xdWVyeVNlbGVjdG9yQWxsKHQpLHRoaXMpfSxcImNsb3Nlc3RcIixmdW5jdGlvbih0KXt2YXIgbj10aGlzLHI7d2hpbGUoKHI9biYmbi5tYXRjaGVzKSYmIW4ubWF0Y2hlcyh0KSluPW4ucGFyZW50Tm9kZTtyZXR1cm4gcj9uOm51bGx9LFwicHJlcGVuZFwiLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5maXJzdENoaWxkLG49aShhcmd1bWVudHMpO3Q/dGhpcy5pbnNlcnRCZWZvcmUobix0KTp0aGlzLmFwcGVuZENoaWxkKG4pfSxcImFwcGVuZFwiLGZ1bmN0aW9uKCl7dGhpcy5hcHBlbmRDaGlsZChpKGFyZ3VtZW50cykpfSxcImJlZm9yZVwiLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXJlbnROb2RlO3QmJnQuaW5zZXJ0QmVmb3JlKGkoYXJndW1lbnRzKSx0aGlzKX0sXCJhZnRlclwiLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXJlbnROb2RlLG49dGhpcy5uZXh0U2libGluZyxyPWkoYXJndW1lbnRzKTt0JiYobj90Lmluc2VydEJlZm9yZShyLG4pOnQuYXBwZW5kQ2hpbGQocikpfSxcInJlcGxhY2VcIixmdW5jdGlvbigpe3RoaXMucmVwbGFjZVdpdGguYXBwbHkodGhpcyxhcmd1bWVudHMpfSxcInJlcGxhY2VXaXRoXCIsZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudE5vZGU7dCYmdC5yZXBsYWNlQ2hpbGQoaShhcmd1bWVudHMpLHRoaXMpfSxcInJlbW92ZVwiLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXJlbnROb2RlO3QmJnQucmVtb3ZlQ2hpbGQodGhpcyl9LFwicXVlcnlcIixGKFwicXVlcnlTZWxlY3RvclwiKSxcInF1ZXJ5QWxsXCIsRihcInF1ZXJ5U2VsZWN0b3JBbGxcIildLFI9cS5zbGljZSxVPXEubGVuZ3RoO1U7VS09Mil7dT1xW1UtMl0sdSBpbiBNfHwoTVt1XT1xW1UtMV0pLHU9PT1cInJlbW92ZVwiJiYoXy5wcm90b3R5cGVbdV09ZnVuY3Rpb24oKXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP0QuYXBwbHkodGhpcyxhcmd1bWVudHMpOk0ucmVtb3ZlLmNhbGwodGhpcyl9KSwvXig/OmJlZm9yZXxhZnRlcnxyZXBsYWNlfHJlcGxhY2VXaXRofHJlbW92ZSkkLy50ZXN0KHUpJiYoayYmISh1IGluIEwpJiYoTFt1XT1xW1UtMV0pLEEmJiEodSBpbiBPKSYmKE9bdV09cVtVLTFdKSk7aWYoL14oPzphcHBlbmR8cHJlcGVuZCkkLy50ZXN0KHUpKWlmKFQpdSBpbiBUfHwoVFt1XT1xW1UtMV0pO2Vsc2UgdHJ5e3QoKS5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbdV09cVtVLTFdfWNhdGNoKHope319SShjKTtpZihUKUkoVCk7ZWxzZSB0cnl7SSh0KCkuY29uc3RydWN0b3IucHJvdG90eXBlKX1jYXRjaCh6KXt9UCYmSShQLnByb3RvdHlwZSksbihcImFcIikubWF0Y2hlcyhcImFcIil8fChNW3VdPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZS5jYWxsKHRoaXMucGFyZW50Tm9kZT90aGlzOnQoKS5hcHBlbmRDaGlsZCh0aGlzKSxuKX19KE1bdV0pKSxtLnByb3RvdHlwZT17bGVuZ3RoOjAsYWRkOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsbjt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKW49YXJndW1lbnRzW3RdLHRoaXMuY29udGFpbnMobil8fHEucHVzaC5jYWxsKHRoaXMsdSk7dGhpcy5faXNTVkc/dGhpcy5fLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJcIit0aGlzKTp0aGlzLl8uY2xhc3NOYW1lPVwiXCIrdGhpc30sY29udGFpbnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBVPWUuY2FsbCh0aGlzLHU9dihuKSksLTE8VX19KFtdLmluZGV4T2Z8fGZ1bmN0aW9uKGUpe1U9dGhpcy5sZW5ndGg7d2hpbGUoVS0tJiZ0aGlzW1VdIT09ZSk7cmV0dXJuIFV9KSxpdGVtOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzW3RdfHxudWxsfSxyZW1vdmU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxuO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspbj1hcmd1bWVudHNbdF0sdGhpcy5jb250YWlucyhuKSYmcS5zcGxpY2UuY2FsbCh0aGlzLFUsMSk7dGhpcy5faXNTVkc/dGhpcy5fLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJcIit0aGlzKTp0aGlzLl8uY2xhc3NOYW1lPVwiXCIrdGhpc30sdG9nZ2xlOngsdG9TdHJpbmc6ZnVuY3Rpb24gVygpe3JldHVybiBxLmpvaW4uY2FsbCh0aGlzLEUpfX0sSCYmIShTIGluIEgucHJvdG90eXBlKSYmcChILnByb3RvdHlwZSxTLGcpLFMgaW4gYy5kb2N1bWVudEVsZW1lbnQ/KGY9bihcImRpdlwiKVtTXSxmLmFkZChcImFcIixcImJcIixcImFcIiksXCJhIGJcIiE9ZiYmKGE9Zi5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsXCJhZGRcImluIGF8fChhPWUuVGVtcG9yYXJ5VG9rZW5MaXN0LnByb3RvdHlwZSksbD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD0wO3doaWxlKHQ8YXJndW1lbnRzLmxlbmd0aCllLmNhbGwodGhpcyxhcmd1bWVudHNbdCsrXSl9fSxhLmFkZD1sKGEuYWRkKSxhLnJlbW92ZT1sKGEucmVtb3ZlKSxhLnRvZ2dsZT14KSk6cChNLFMsZyksXCJjb250YWluc1wiaW4gQ3x8cChDLFwiY29udGFpbnNcIix7dmFsdWU6ZnVuY3Rpb24oZSl7d2hpbGUoZSYmZSE9PXRoaXMpZT1lLnBhcmVudE5vZGU7cmV0dXJuIHRoaXM9PT1lfX0pLFwiaGVhZFwiaW4gY3x8cChjLFwiaGVhZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb3x8KG89Yy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0pfX0pLGZ1bmN0aW9uKCl7Zm9yKHZhciB0LG49ZS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUscj1lLmNhbmNlbEFuaW1hdGlvbkZyYW1lLGk9W1wib1wiLFwibXNcIixcIm1velwiLFwid2Via2l0XCJdLHM9aS5sZW5ndGg7IXImJnMtLTspbj1ufHxlW2lbc10rXCJSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl0scj1lW2lbc10rXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiXXx8ZVtpW3NdK1wiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO3J8fChuPyh0PW4sbj1mdW5jdGlvbihlKXt2YXIgbj0hMDtyZXR1cm4gdChmdW5jdGlvbigpe24mJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksZnVuY3Rpb24oKXtuPSExfX0scj1mdW5jdGlvbihlKXtlKCl9KToobj1mdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLDE1LDE1KX0scj1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZSl9KSksZS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9bixlLmNhbmNlbEFuaW1hdGlvbkZyYW1lPXJ9KCk7dHJ5e25ldyBlLkN1c3RvbUV2ZW50KFwiP1wiKX1jYXRjaCh6KXtlLkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihuLGkpe3ZhciBzPWMuY3JlYXRlRXZlbnQoZSk7aWYodHlwZW9mIG4hPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiQW4gZXZlbnQgbmFtZSBtdXN0IGJlIHByb3ZpZGVkXCIpO3JldHVybiBlPT1cIkV2ZW50XCImJihzLmluaXRDdXN0b21FdmVudD1yKSxpPT1udWxsJiYoaT10KSxzLmluaXRDdXN0b21FdmVudChuLGkuYnViYmxlcyxpLmNhbmNlbGFibGUsaS5kZXRhaWwpLHN9ZnVuY3Rpb24gcihlLHQsbixyKXt0aGlzLmluaXRFdmVudChlLHQsbiksdGhpcy5kZXRhaWw9cn1yZXR1cm4gbn0oZS5DdXN0b21FdmVudD9cIkN1c3RvbUV2ZW50XCI6XCJFdmVudFwiLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOm51bGx9KX10cnl7bmV3IEV2ZW50KFwiX1wiKX1jYXRjaCh6KXt6PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0KXtyKGFyZ3VtZW50cy5sZW5ndGgsXCJFdmVudFwiKTt2YXIgbj1jLmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7cmV0dXJuIHR8fCh0PXt9KSxuLmluaXRFdmVudChlLCEhdC5idWJibGVzLCEhdC5jYW5jZWxhYmxlKSxufXJldHVybiB0LnByb3RvdHlwZT1lLnByb3RvdHlwZSx0fShlLkV2ZW50fHxmdW5jdGlvbigpe30pLHAoZSxcIkV2ZW50XCIse3ZhbHVlOnp9KSxFdmVudCE9PXomJihFdmVudD16KX10cnl7bmV3IEtleWJvYXJkRXZlbnQoXCJfXCIse30pfWNhdGNoKHope3o9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9W10sbj1bXCJjdHJsS2V5XCIsXCJDb250cm9sXCIsXCJzaGlmdEtleVwiLFwiU2hpZnRcIixcImFsdEtleVwiLFwiQWx0XCIsXCJtZXRhS2V5XCIsXCJNZXRhXCIsXCJhbHRHcmFwaEtleVwiLFwiQWx0R3JhcGhcIl0scj0wO3I8bi5sZW5ndGg7cis9MillW25bcl1dJiZ0LnB1c2gobltyKzFdKTtyZXR1cm4gdC5qb2luKFwiIFwiKX1mdW5jdGlvbiBmKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmIXQuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYoZVtuXT10W25dKTtyZXR1cm4gZX1mdW5jdGlvbiBsKGUsdCxuKXt0cnl7dFtlXT1uW2VdfWNhdGNoKHIpe319ZnVuY3Rpb24gaCh0LG8pe3IoYXJndW1lbnRzLmxlbmd0aCxcIktleWJvYXJkRXZlbnRcIiksbz1mKG98fHt9LGkpO3ZhciB1PWMuY3JlYXRlRXZlbnQocyksaD1vLmN0cmxLZXkscD1vLnNoaWZ0S2V5LGQ9by5hbHRLZXksdj1vLm1ldGFLZXksbT1vLmFsdEdyYXBoS2V5LGc9bj4zP2Eobyk6bnVsbCx5PVN0cmluZyhvLmtleSksYj1TdHJpbmcoby5jaGFyKSx3PW8ubG9jYXRpb24sRT1vLmtleUNvZGV8fChvLmtleUNvZGU9eSkmJnkuY2hhckNvZGVBdCgwKXx8MCxTPW8uY2hhckNvZGV8fChvLmNoYXJDb2RlPWIpJiZiLmNoYXJDb2RlQXQoMCl8fDAseD1vLmJ1YmJsZXMsVD1vLmNhbmNlbGFibGUsTj1vLnJlcGVhdCxDPW8ubG9jYWxlLGs9by52aWV3fHxlLEw7by53aGljaHx8KG8ud2hpY2g9by5rZXlDb2RlKTtpZihcImluaXRLZXlFdmVudFwiaW4gdSl1LmluaXRLZXlFdmVudCh0LHgsVCxrLGgsZCxwLHYsRSxTKTtlbHNlIGlmKDA8biYmXCJpbml0S2V5Ym9hcmRFdmVudFwiaW4gdSl7TD1bdCx4LFQsa107c3dpdGNoKG4pe2Nhc2UgMTpMLnB1c2goeSx3LGgscCxkLHYsbSk7YnJlYWs7Y2FzZSAyOkwucHVzaChoLGQscCx2LEUsUyk7YnJlYWs7Y2FzZSAzOkwucHVzaCh5LHcsaCxkLHAsdixtKTticmVhaztjYXNlIDQ6TC5wdXNoKHksdyxnLE4sQyk7YnJlYWs7ZGVmYXVsdDpMLnB1c2goY2hhcix5LHcsZyxOLEMpfXUuaW5pdEtleWJvYXJkRXZlbnQuYXBwbHkodSxMKX1lbHNlIHUuaW5pdEV2ZW50KHQseCxUKTtmb3IoeSBpbiB1KWkuaGFzT3duUHJvcGVydHkoeSkmJnVbeV0hPT1vW3ldJiZsKHksdSxvKTtyZXR1cm4gdX12YXIgbj0wLGk9e1wiY2hhclwiOlwiXCIsa2V5OlwiXCIsbG9jYXRpb246MCxjdHJsS2V5OiExLHNoaWZ0S2V5OiExLGFsdEtleTohMSxtZXRhS2V5OiExLGFsdEdyYXBoS2V5OiExLHJlcGVhdDohMSxsb2NhbGU6bmF2aWdhdG9yLmxhbmd1YWdlLGRldGFpbDowLGJ1YmJsZXM6ITEsY2FuY2VsYWJsZTohMSxrZXlDb2RlOjAsY2hhckNvZGU6MCx3aGljaDowfSxzO3RyeXt2YXIgbz1jLmNyZWF0ZUV2ZW50KFwiS2V5Ym9hcmRFdmVudFwiKTtvLmluaXRLZXlib2FyZEV2ZW50KFwia2V5dXBcIiwhMSwhMSxlLFwiK1wiLDMsITAsITEsITAsITEsITEpLG49KG8ua2V5SWRlbnRpZmllcnx8by5rZXkpPT1cIitcIiYmKG8ua2V5TG9jYXRpb258fG8ubG9jYXRpb24pPT0zJiYoby5jdHJsS2V5P28uYWx0S2V5PzE6MzpvLnNoaWZ0S2V5PzI6NCl8fDl9Y2F0Y2godSl7fXJldHVybiBzPTA8bj9cIktleWJvYXJkRXZlbnRcIjpcIkV2ZW50XCIsaC5wcm90b3R5cGU9dC5wcm90b3R5cGUsaH0oZS5LZXlib2FyZEV2ZW50fHxmdW5jdGlvbigpe30pLHAoZSxcIktleWJvYXJkRXZlbnRcIix7dmFsdWU6en0pLEtleWJvYXJkRXZlbnQhPT16JiYoS2V5Ym9hcmRFdmVudD16KX10cnl7bmV3IE1vdXNlRXZlbnQoXCJfXCIse30pfWNhdGNoKHope3o9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbih0LG4pe3IoYXJndW1lbnRzLmxlbmd0aCxcIk1vdXNlRXZlbnRcIik7dmFyIGk9Yy5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRcIik7cmV0dXJuIG58fChuPXt9KSxpLmluaXRNb3VzZUV2ZW50KHQsISFuLmJ1YmJsZXMsISFuLmNhbmNlbGFibGUsbi52aWV3fHxlLG4uZGV0YWlsfHwxLG4uc2NyZWVuWHx8MCxuLnNjcmVlbll8fDAsbi5jbGllbnRYfHwwLG4uY2xpZW50WXx8MCwhIW4uY3RybEtleSwhIW4uYWx0S2V5LCEhbi5zaGlmdEtleSwhIW4ubWV0YUtleSxuLmJ1dHRvbnx8MCxuLnJlbGF0ZWRUYXJnZXR8fG51bGwpLGl9cmV0dXJuIG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG59KGUuTW91c2VFdmVudHx8ZnVuY3Rpb24oKXt9KSxwKGUsXCJNb3VzZUV2ZW50XCIse3ZhbHVlOnp9KSxNb3VzZUV2ZW50IT09eiYmKE1vdXNlRXZlbnQ9eil9fSkod2luZG93KSxmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7fWZ1bmN0aW9uIHIoZSx0LG4pe2Z1bmN0aW9uIGkoZSl7aS5vbmNlJiYoZS5jdXJyZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZS50eXBlLHQsaSksaS5yZW1vdmVkPSEwKSxpLnBhc3NpdmUmJihlLnByZXZlbnREZWZhdWx0PXIucHJldmVudERlZmF1bHQpLHR5cGVvZiBpLmNhbGxiYWNrPT1cImZ1bmN0aW9uXCI/aS5jYWxsYmFjay5jYWxsKHRoaXMsZSk6aS5jYWxsYmFjayYmaS5jYWxsYmFjay5oYW5kbGVFdmVudChlKSxpLnBhc3NpdmUmJmRlbGV0ZSBlLnByZXZlbnREZWZhdWx0fXJldHVybiBpLnR5cGU9ZSxpLmNhbGxiYWNrPXQsaS5jYXB0dXJlPSEhbi5jYXB0dXJlLGkucGFzc2l2ZT0hIW4ucGFzc2l2ZSxpLm9uY2U9ISFuLm9uY2UsaS5yZW1vdmVkPSExLGl9dmFyIHQ9ZS5XZWFrTWFwfHxmdW5jdGlvbigpe2Z1bmN0aW9uIHMoZSxpLHMpe249cyx0PSExLHI9dW5kZWZpbmVkLGUuZGlzcGF0Y2hFdmVudChpKX1mdW5jdGlvbiBvKGUpe3RoaXMudmFsdWU9ZX1mdW5jdGlvbiB1KCl7ZSsrLHRoaXMuX19jZV9fPW5ldyBpKFwiQERPTU1hcDpcIitlK01hdGgucmFuZG9tKCkpfXZhciBlPTAsdD0hMSxuPSExLHI7cmV0dXJuIG8ucHJvdG90eXBlLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKGkpe3Q9ITAsbj9pLmN1cnJlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLnR5cGUsdGhpcywhMSk6cj10aGlzLnZhbHVlfSx1LnByb3RvdHlwZT17Y29uc3RydWN0b3I6dSxcImRlbGV0ZVwiOmZ1bmN0aW9uKG4pe3JldHVybiBzKG4sdGhpcy5fX2NlX18sITApLHR9LGdldDpmdW5jdGlvbih0KXtzKHQsdGhpcy5fX2NlX18sITEpO3ZhciBuPXI7cmV0dXJuIHI9dW5kZWZpbmVkLG59LGhhczpmdW5jdGlvbihuKXtyZXR1cm4gcyhuLHRoaXMuX19jZV9fLCExKSx0fSxzZXQ6ZnVuY3Rpb24odCxuKXtyZXR1cm4gcyh0LHRoaXMuX19jZV9fLCEwKSx0LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fX2NlX18udHlwZSxuZXcgbyhuKSwhMSksdGhpc319LHV9KCk7bi5wcm90b3R5cGU9KE9iamVjdC5jcmVhdGV8fE9iamVjdCkobnVsbCksci5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe307dmFyIGk9ZS5DdXN0b21FdmVudCxzPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbz1lLmRpc3BhdGNoRXZlbnQsdT1lLmFkZEV2ZW50TGlzdGVuZXIsYT1lLnJlbW92ZUV2ZW50TGlzdGVuZXIsZj0wLGw9ZnVuY3Rpb24oKXtmKyt9LGM9W10uaW5kZXhPZnx8ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5sZW5ndGg7d2hpbGUobi0tKWlmKHRoaXNbbl09PT10KWJyZWFrO3JldHVybiBufSxoPWZ1bmN0aW9uKGUpe3JldHVyblwiXCIuY29uY2F0KGUuY2FwdHVyZT9cIjFcIjpcIjBcIixlLnBhc3NpdmU/XCIxXCI6XCIwXCIsZS5vbmNlP1wiMVwiOlwiMFwiKX0scCxkO3RyeXt1KFwiX1wiLGwse29uY2U6ITB9KSxvKG5ldyBpKFwiX1wiKSksbyhuZXcgaShcIl9cIikpLGEoXCJfXCIsbCx7b25jZTohMH0pfWNhdGNoKHYpe31mIT09MSYmZnVuY3Rpb24oKXtmdW5jdGlvbiBzKGUpe3JldHVybiBmdW5jdGlvbihzLG8sdSl7aWYodSYmdHlwZW9mIHUhPVwiYm9vbGVhblwiKXt2YXIgYT1pLmdldCh0aGlzKSxmPWgodSksbCxwLGQ7YXx8aS5zZXQodGhpcyxhPW5ldyBuKSxzIGluIGF8fChhW3NdPXtoYW5kbGVyOltdLHdyYXA6W119KSxwPWFbc10sbD1jLmNhbGwocC5oYW5kbGVyLG8pLGw8MD8obD1wLmhhbmRsZXIucHVzaChvKS0xLHAud3JhcFtsXT1kPW5ldyBuKTpkPXAud3JhcFtsXSxmIGluIGR8fChkW2ZdPXIocyxvLHUpLGUuY2FsbCh0aGlzLHMsZFtmXSxkW2ZdLmNhcHR1cmUpKX1lbHNlIGUuY2FsbCh0aGlzLHMsbyx1KX19ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZnVuY3Rpb24obixyLHMpe2lmKHMmJnR5cGVvZiBzIT1cImJvb2xlYW5cIil7dmFyIG89aS5nZXQodGhpcyksdSxhLGYsbDtpZihvJiZuIGluIG8pe2Y9b1tuXSxhPWMuY2FsbChmLmhhbmRsZXIscik7aWYoLTE8YSl7dT1oKHMpLGw9Zi53cmFwW2FdO2lmKHUgaW4gbCl7ZS5jYWxsKHRoaXMsbixsW3VdLGxbdV0uY2FwdHVyZSksZGVsZXRlIGxbdV07Zm9yKHUgaW4gbClyZXR1cm47Zi5oYW5kbGVyLnNwbGljZShhLDEpLGYud3JhcC5zcGxpY2UoYSwxKSxmLmhhbmRsZXIubGVuZ3RoPT09MCYmZGVsZXRlIG9bbl19fX19ZWxzZSBlLmNhbGwodGhpcyxuLHIscyl9fXZhciBpPW5ldyB0O3A9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO3ZhciB0PWUucHJvdG90eXBlO3QuYWRkRXZlbnRMaXN0ZW5lcj1zKHQuYWRkRXZlbnRMaXN0ZW5lciksdC5yZW1vdmVFdmVudExpc3RlbmVyPW8odC5yZW1vdmVFdmVudExpc3RlbmVyKX0sZS5FdmVudFRhcmdldD9wKEV2ZW50VGFyZ2V0KToocChlLlRleHQpLHAoZS5FbGVtZW50fHxlLkhUTUxFbGVtZW50KSxwKGUuSFRNTERvY3VtZW50KSxwKGUuV2luZG93fHx7cHJvdG90eXBlOmV9KSxwKGUuWE1MSHR0cFJlcXVlc3QpKX0oKX0oc2VsZik7XHJcblxyXG4vLyBjbGFzc0xpc3QgZm9yIElFOVxyXG4oZnVuY3Rpb24gKCkge1xyXG5cclxuaWYgKHR5cGVvZiB3aW5kb3cuRWxlbWVudCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBcImNsYXNzTGlzdFwiIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgcmV0dXJuO1xyXG5cclxudmFyIHByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZSxcclxuICBwdXNoID0gcHJvdG90eXBlLnB1c2gsXHJcbiAgc3BsaWNlID0gcHJvdG90eXBlLnNwbGljZSxcclxuICBqb2luID0gcHJvdG90eXBlLmpvaW47XHJcblxyXG5mdW5jdGlvbiBET01Ub2tlbkxpc3QoZWwpIHtcclxudGhpcy5lbCA9IGVsO1xyXG4vLyBUaGUgY2xhc3NOYW1lIG5lZWRzIHRvIGJlIHRyaW1tZWQgYW5kIHNwbGl0IG9uIHdoaXRlc3BhY2VcclxuLy8gdG8gcmV0cmlldmUgYSBsaXN0IG9mIGNsYXNzZXMuXHJcbnZhciBjbGFzc2VzID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UoL15cXHMrfFxccyskL2csJycpLnNwbGl0KC9cXHMrLyk7XHJcbmZvciAodmFyIGkgPSAwOyBpIDwgY2xhc3Nlcy5sZW5ndGg7IGkrKykge1xyXG4gIHB1c2guY2FsbCh0aGlzLCBjbGFzc2VzW2ldKTtcclxufVxyXG59O1xyXG5cclxuRE9NVG9rZW5MaXN0LnByb3RvdHlwZSA9IHtcclxuYWRkOiBmdW5jdGlvbih0b2tlbikge1xyXG4gIGlmKHRoaXMuY29udGFpbnModG9rZW4pKSByZXR1cm47XHJcbiAgcHVzaC5jYWxsKHRoaXMsIHRva2VuKTtcclxuICB0aGlzLmVsLmNsYXNzTmFtZSA9IHRoaXMudG9TdHJpbmcoKTtcclxufSxcclxuY29udGFpbnM6IGZ1bmN0aW9uKHRva2VuKSB7XHJcbiAgcmV0dXJuIHRoaXMuZWwuY2xhc3NOYW1lLmluZGV4T2YodG9rZW4pICE9IC0xO1xyXG59LFxyXG5pdGVtOiBmdW5jdGlvbihpbmRleCkge1xyXG4gIHJldHVybiB0aGlzW2luZGV4XSB8fCBudWxsO1xyXG59LFxyXG5yZW1vdmU6IGZ1bmN0aW9uKHRva2VuKSB7XHJcbiAgaWYgKCF0aGlzLmNvbnRhaW5zKHRva2VuKSkgcmV0dXJuO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKHRoaXNbaV0gPT0gdG9rZW4pIGJyZWFrO1xyXG4gIH1cclxuICBzcGxpY2UuY2FsbCh0aGlzLCBpLCAxKTtcclxuICB0aGlzLmVsLmNsYXNzTmFtZSA9IHRoaXMudG9TdHJpbmcoKTtcclxufSxcclxudG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiBqb2luLmNhbGwodGhpcywgJyAnKTtcclxufSxcclxudG9nZ2xlOiBmdW5jdGlvbih0b2tlbikge1xyXG4gIGlmICghdGhpcy5jb250YWlucyh0b2tlbikpIHtcclxuICAgIHRoaXMuYWRkKHRva2VuKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy5yZW1vdmUodG9rZW4pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXMuY29udGFpbnModG9rZW4pO1xyXG59XHJcbn07XHJcblxyXG53aW5kb3cuRE9NVG9rZW5MaXN0ID0gRE9NVG9rZW5MaXN0O1xyXG5cclxuZnVuY3Rpb24gZGVmaW5lRWxlbWVudEdldHRlciAob2JqLCBwcm9wLCBnZXR0ZXIpIHtcclxuICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIHByb3Ase1xyXG4gICAgICAgICAgZ2V0IDogZ2V0dGVyXHJcbiAgICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAgIG9iai5fX2RlZmluZUdldHRlcl9fKHByb3AsIGdldHRlcik7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVFbGVtZW50R2V0dGVyKEVsZW1lbnQucHJvdG90eXBlLCAnY2xhc3NMaXN0JywgZnVuY3Rpb24gKCkge1xyXG5yZXR1cm4gbmV3IERPTVRva2VuTGlzdCh0aGlzKTtcclxufSk7XHJcblxyXG59KSgpOyJdLCJmaWxlIjoicG9seWZpbGxzLmpzIn0=
